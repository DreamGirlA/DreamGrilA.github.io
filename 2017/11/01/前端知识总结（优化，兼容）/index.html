<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="IE6兼容,性能优化," />





  <link rel="alternate" href="/atom.xml" title="Candice Yu_个人博客" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/uploads/favicon.ico?v=5.0.1" />






<meta name="description" content="性能优化
前端优化的途径有很多，大致可以分为两类：页面级优化和代码级优化。
页面级优化有减少HTTP请求数、脚本的无阻塞加载、内联脚本的位置优化等等。
代码级优化有Js种DOM操作优化、Css选择符优化、图片优化以及HTML结构优化等等。

页面级优化减少HTTP请求数  (最重要最有效)
一个完整的请求都需要经过DNS寻址、与服务器建立连接、发送数据、等待服务器响应、接收数据这样一个漫长而复杂的">
<meta property="og:type" content="article">
<meta property="og:title" content="前端知识总结（性能优化，兼容）">
<meta property="og:url" content="http://candiceyu.com/2017/11/01/前端知识总结（优化，兼容）/index.html">
<meta property="og:site_name" content="Candice Yu_个人博客">
<meta property="og:description" content="性能优化
前端优化的途径有很多，大致可以分为两类：页面级优化和代码级优化。
页面级优化有减少HTTP请求数、脚本的无阻塞加载、内联脚本的位置优化等等。
代码级优化有Js种DOM操作优化、Css选择符优化、图片优化以及HTML结构优化等等。

页面级优化减少HTTP请求数  (最重要最有效)
一个完整的请求都需要经过DNS寻址、与服务器建立连接、发送数据、等待服务器响应、接收数据这样一个漫长而复杂的">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/5285574-d5744669e059a62a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/5285574-c9da2e7cc5794dc4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/5285574-4e86b534bc0f46b2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/5285574-7dbccd3666e5502a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/5285574-e6087060761e221d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/5285574-a02f4ea17feee9b2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:updated_time" content="2017-11-01T08:28:23.020Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="前端知识总结（性能优化，兼容）">
<meta name="twitter:description" content="性能优化
前端优化的途径有很多，大致可以分为两类：页面级优化和代码级优化。
页面级优化有减少HTTP请求数、脚本的无阻塞加载、内联脚本的位置优化等等。
代码级优化有Js种DOM操作优化、Css选择符优化、图片优化以及HTML结构优化等等。

页面级优化减少HTTP请求数  (最重要最有效)
一个完整的请求都需要经过DNS寻址、与服务器建立连接、发送数据、等待服务器响应、接收数据这样一个漫长而复杂的">
<meta name="twitter:image" content="http://upload-images.jianshu.io/upload_images/5285574-d5744669e059a62a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://candiceyu.com/2017/11/01/前端知识总结（优化，兼容）/"/>

  <title> 前端知识总结（性能优化，兼容） | Candice Yu_个人博客 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?516d783fb114015b9b38b2ce58b5fe15";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Candice Yu_个人博客</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Candice Yu</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/aboutMe" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                前端知识总结（性能优化，兼容）
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-11-01T16:27:27+08:00" content="2017-11-01">
              2017-11-01
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/11/01/前端知识总结（优化，兼容）/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/11/01/前端知识总结（优化，兼容）/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h1><ol>
<li>前端优化的途径有很多，大致可以分为两类：页面级优化和代码级优化。</li>
<li>页面级优化有减少HTTP请求数、脚本的无阻塞加载、内联脚本的位置优化等等。</li>
<li>代码级优化有Js种DOM操作优化、Css选择符优化、图片优化以及HTML结构优化等等。</li>
</ol>
<h2 id="页面级优化"><a href="#页面级优化" class="headerlink" title="页面级优化"></a>页面级优化</h2><h3 id="减少HTTP请求数-最重要最有效"><a href="#减少HTTP请求数-最重要最有效" class="headerlink" title="减少HTTP请求数  (最重要最有效)"></a>减少HTTP请求数  (最重要最有效)</h3><ol>
<li>一个完整的请求都需要经过DNS寻址、与服务器建立连接、发送数据、等待服务器响应、接收数据这样一个漫长而复杂的过程。</li>
<li>由于浏览器进行并发请求的请求数都是有上限的，因此请求数多了以后，浏览器需要分批进行请求，因此会增加用户的等待时间，会给用户造成网站速度慢这样一个印象，即使可能用户能看到的第一屏的资源都已经请求完了，但是浏览器的进度条一直在加载。</li>
</ol>
<h4 id="减少HTTP请求数的途径"><a href="#减少HTTP请求数的途径" class="headerlink" title="减少HTTP请求数的途径"></a>减少HTTP请求数的途径</h4><ol>
<li>从设计实现层面简化页面<br>如果我么你的页面和百度搜索的页面一眼简单，那么也就不需要什么优化操作了。因此保持页面简洁、减少资源的使用是最直接的。</li>
<li>合理设置HTTP缓存<br>缓存的力量是强大的，恰当的设置缓存可以大大减少HTTP请求<br>怎样才算是合理的设置？原则很简单：能缓存越多越久越好。<br>例如：很少变化的图片资源就可以直接通过HTTP Header中的Expires设置一个很长的过期头；<br>变化不频繁而又可能会变的资源可以使用Last-Modified来做请求验证。尽可能的让资源能够在缓存中待的更久。</li>
<li>资源合并与压缩<br>如果可以的话，尽可能的将外部脚本、样式进行合并，尽可能地合并为一个。另外，CSS、Js、Image都可以用相应的工具<br>进行压缩，压缩后往往能节省不少空间。或者使用Webpack等前端工程化工具来进行代码的压缩和去重。</li>
<li>CSS Sprites 雪碧图<br>雪碧图又叫做精灵图，我们可以把网站中需要用到的一些icon，全部放到一个图片资源中，然后通过改变位置来<br>获取需要的图片，这样合并CSS图片，就可以大幅度减少HTTP请求数了。</li>
<li>Inline Images<br>使用 data: URL scheme的方式将图片嵌入到页面或 CSS中，如果不考虑资源管理上的问题的话，不失为一个好办法。<br>如果是嵌入页面的话换来的是增大了页面的体积，而且无法利用浏览器缓存。使用在 CSS中的图片则更为理想一些。</li>
<li>Lazy Load Images（自己对这一块的内容还是不了解） 懒加载<br>这条策略实际上并不一定能减少 HTTP请求数，但是却能在某些条件下或者页面刚加载时减少 HTTP请求数。对于图片而言，在页面刚加载的时候可以只加载第一屏，当用户继续往后滚屏的时候才加载后续的图片。这样一来，假如用户只对第一屏的内容感兴趣时，那剩余的图片请求就都节省了。<br>有啊首页 曾经的做法是在加载的时候把第一屏之后的图片地址缓存在 Textarea标签中，待用户往下滚屏的时候才 “惰性” 加载。</li>
<li>瀑布流<br>其实懒加载并不能减少HTTP请求数，他只是可以减少页面刚加载的时候的HTTP请求数，总数是不变的。<br>对于图片而言，在页面刚加载的时候可能只加载第一屏的图片，随着用户的滚动才会继续加载后面的图片资源，<br>这种瀑布流的加载方式就可以有效提高性能。</li>
</ol>
<h3 id="将外部脚本放在底部"><a href="#将外部脚本放在底部" class="headerlink" title="将外部脚本放在底部"></a>将外部脚本放在底部</h3><ol>
<li>前文有谈到，浏览器是可以并发请求的，这一特点使得其能够更快的加载资源，然而外链脚本在加载时却会阻塞其他资源，例如在脚本加载完成之前，它后面的图片、样式以及其他脚本都处于阻塞状态，直到脚本加载完成后才会开始加载。</li>
<li>如果将脚本放在比较靠前的位置，则会影响整个页面的加载速度从而影响用户体验。解决这一问题的方法有很多，最简单可依赖的方法就是将脚本尽可能的往后挪，减少对并发下载的影响。</li>
</ol>
<h3 id="并发执行inline脚本"><a href="#并发执行inline脚本" class="headerlink" title="并发执行inline脚本"></a>并发执行inline脚本</h3><p>使用 script元素的defer 属性(存在兼容性问题和其他一些问题，例如不能使用 document.write)、使用setTimeout ，此外，在HTML5中引入了 Web Workers的机制，恰恰可以解决此类问题。</p>
<h3 id="懒加载"><a href="#懒加载" class="headerlink" title="懒加载"></a>懒加载</h3><p>只需要在需要资源的时候才加载资源，不需要的时候就不加载资源。</p>
<h4 id="Js-与-css-懒加载"><a href="#Js-与-css-懒加载" class="headerlink" title="Js 与 css 懒加载"></a>Js 与 css 懒加载</h4><ol>
<li>把js放到整个页面的底部， 另一个方法是在script 标签上加一个 defer属性 保证让浏览器把脚本下载出来后，然后等到页面渲染完毕再执行。（参考权威指南 js时间线）</li>
<li>Css文件用link标签加载是阻塞状态的，我们可以使用loadCss 小工具库来进行异步css文件加载，但是有一个问题是，全部异步加载css ，页面最开始呈现出的只是单纯的html ,不是很好看所以我们要选定一个关键的css文件，用critical 工具来自动提取压缩关键的css. （百度自行查看使用方法）</li>
</ol>
<h3 id="将-CSS放在-HEAD中"><a href="#将-CSS放在-HEAD中" class="headerlink" title="将 CSS放在 HEAD中"></a>将 CSS放在 HEAD中</h3><p>如果将 CSS放在其他地方比如 BODY中，则浏览器有可能还未下载和解析到CSS就已经开始渲染页面了，这就导致页面由无 CSS状态跳转到CSS状态，用户体验比较糟糕。除此之外，有些浏览器会在CSS下载完成后才开始渲染页面，如果CSS放在靠下的位置则会导致浏览器将渲染时间推迟。</p>
<h3 id="减少不必要的HTTP跳转"><a href="#减少不必要的HTTP跳转" class="headerlink" title="减少不必要的HTTP跳转"></a>减少不必要的HTTP跳转</h3><p>对于以目录形式访问的HTTP链接，很多人都会忽略链接最后是否带’/’，加入你的服务器对此区别对待的话，那么你也需要注意了，这其中很可能隐藏了301跳转，增加了多余请求。</p>
<h3 id="避免重复的资源请求"><a href="#避免重复的资源请求" class="headerlink" title="避免重复的资源请求"></a>避免重复的资源请求</h3><p>这种情况主要是由于在模块化开发时，我们的不同模块之间可能有相同的部分，导致资源的重复请求。</p>
<h2 id="代码级优化"><a href="#代码级优化" class="headerlink" title="代码级优化"></a>代码级优化</h2><h3 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h3><p>DOM操作应该是脚本中最耗性能的一类操作</p>
<ol>
<li>HTMLCollection（HTML收集器，返回的是一个数组的内容信息）<br>因为是这个集合并不是一个静态的集合，它表示的仅仅是一个特定的查询，每次访问该集合时都会重新执行这个 查询从而更新查询结果。所谓的“访问集合”包括读取集合的length属性、访问集合中的元素。</li>
<li>Reflow&amp;Repaint 减少页面的重绘和重排。</li>
</ol>
<h3 id="慎用with"><a href="#慎用with" class="headerlink" title="慎用with"></a>慎用with</h3><p>with会改变作用域链，有可能导致我们的作用域链变长，导致查询性能下降。</p>
<h3 id="避免使用eval和Function"><a href="#避免使用eval和Function" class="headerlink" title="避免使用eval和Function"></a>避免使用eval和Function</h3><p>每次 eval 或 Function 构造函数作用于字符串表示的源代码时，脚本引擎都需要将源代码转换成可执行代码。这是很消耗资源的操作 —— 通常比简单的函数调用慢 100倍以上。</p>
<h3 id="减少作用域链查找"><a href="#减少作用域链查找" class="headerlink" title="减少作用域链查找"></a>减少作用域链查找</h3><p>如果在循环中需要访问非本作用域下的变量的时候，请遍历之前用局部变量缓存的变量，并在遍历结束之后重写这个缓存变量</p>
<h3 id="数据访问"><a href="#数据访问" class="headerlink" title="数据访问"></a>数据访问</h3><p>js中对直接量和局部变量的访问时最快的，对对象属性以及数组的访问需要更大的开销，当出现下面的情况的时候，建议将数据放入局部变量：</p>
<ol>
<li>对任何对象属性的访问超过1次</li>
<li>对任何数组成员的访问次数超过1次<br>另外，要尽可能的减少对对象以及数组的深度查找。</li>
</ol>
<h3 id="字符串拼接"><a href="#字符串拼接" class="headerlink" title="字符串拼接"></a>字符串拼接</h3><ol>
<li>字符串的拼接尽可能少的使用“+”，这种方式的效率是十分低下的，因为每次运行都会开辟新的内存并生成新的字符串变量，然后将拼接的结果赋值给新变量。</li>
<li>建议使用的是先转化为数组，然后通过数组的join方法来连接成字符串。不过由于数组也有一定的开销，因此就需要权衡一下，当拼接的字符串比较少的时候，可以考虑用“+”的方式，比较多的时候就需要考虑用数组的join方法了。</li>
</ol>
<h3 id="总的来说代码层面的优化"><a href="#总的来说代码层面的优化" class="headerlink" title="总的来说代码层面的优化"></a>总的来说代码层面的优化</h3><ol>
<li>少用全局变量</li>
<li>避免全局查询</li>
<li>缓存DOM节点查找的结果</li>
<li>用hash-table来优化查找</li>
<li>用setTimeout来避免页面失去响应</li>
<li>尽量避免写在HTML标签中写Style属性</li>
<li>避免使用with(with会创建自己的作用域，会增加作用域链长度</li>
<li>避免使用CSS Expression(css表达式)又称Dynamic properties(动态属性)</li>
<li>用innerHTML代替DOM操作，减少DOM操作次数，优化javascript性能</li>
<li>避免图片和iFrame等的空Src。空Src会重新加载当前页面，影响速度和效率</li>
</ol>
<h2 id="重绘重排"><a href="#重绘重排" class="headerlink" title="重绘重排"></a>重绘重排</h2><ol>
<li>页面有三个树：DOMTree、CSSTree、renderTree。（实际上多于三个），renderTree上有两个规则：repaint和reflow，重绘和重排。</li>
<li>repaint是元素自身的位置和宽高不变，只改变颜色的之类的属性而不会导致后面的元素位置的变化的时候，renderTree发生的动作。</li>
<li>reflow是元素自身的位置或者宽高改变了从而导致的整个页面的大范围移动的时候，renderTree发生的动作。<br>所以我们在DOM操作的时候，要尽量避免重排。</li>
</ol>
<h2 id="对网站的文件和资源进行优化"><a href="#对网站的文件和资源进行优化" class="headerlink" title="对网站的文件和资源进行优化"></a>对网站的文件和资源进行优化</h2><ol>
<li>文件合并</li>
<li>文件最小化/文件压缩</li>
<li>使用CDN托管</li>
<li>缓存的使用</li>
</ol>
<h2 id="管理所有CSS文件、JS与图片"><a href="#管理所有CSS文件、JS与图片" class="headerlink" title="管理所有CSS文件、JS与图片"></a>管理所有CSS文件、JS与图片</h2><p>如果让你来制作一个访问量很高的大型网站，你会如何来管理所有CSS文件、JS与图片?</p>
<ol>
<li>把所有的CSS文件都放入一个样式表中,通过把所有的脚本放到一个文件中来减少HTTP请求的方法。</li>
<li>js文件也采用同样的方法。</li>
<li>把所有的背景图像都放到一个图片文件中，然后通过CSS的background-image和background-position属性来显示图片的不同部分。</li>
</ol>
<h2 id="优化图片的加载"><a href="#优化图片的加载" class="headerlink" title="优化图片的加载"></a>优化图片的加载</h2><p>一个页面上有大量的图片（大型电商网站），加载很慢，你有哪些方法优化这些图片的加载，给用户更好的体验。</p>
<ol>
<li>图片懒加载，在页面上的未可视区域可以添加一个滚动条事件，判断图片位置与浏览器顶端的距离与页面的距离，如果前者小于后者，优先加载。</li>
<li>如果为幻灯片、相册等，可以使用图片预加载技术，将当前展示图片的前一张和后一张优先下载。</li>
<li>如果图片为css图片，可以使用CSSsprite，SVGsprite，Iconfont、Base64等技术。</li>
<li>如果图片过大，可以使用特殊编码的图片，加载时会先加载一张压缩的特别厉害的缩略图，以提高用户体验。</li>
<li>如果图片展示区域小于图片的真实大小，则因在服务器端根据业务需要先行进行图片压缩，图片压缩后大小与展示一致。</li>
</ol>
<h2 id="减少页面加载时间的方法"><a href="#减少页面加载时间的方法" class="headerlink" title="减少页面加载时间的方法"></a>减少页面加载时间的方法</h2><ol>
<li>优化图片 </li>
<li>图像格式的选择（GIF：提供的颜色较少，可用在一些对颜色要求不高的地方） </li>
<li>优化CSS（压缩合并css，如 margin-top, margin-left…) </li>
<li>网址后加斜杠（如www.campr.com/目录，会判断这个目录是什么文件类型，或者是目录。） </li>
<li>标明高度和宽度（如果浏览器没有找到这两个参数，它需要一边下载图片一边计算大小，如果图片很多，浏览器需要不断地调整页面。这不但影响速度，也影响浏览体验。 当浏览器知道了高度和宽度参数后，即使图片暂时无法显示，页面上也会腾出图片的空位，然后继续加载后面的内容。从而加载时间快了，浏览体验也更好了） </li>
<li>减少http请求（合并文件，合并图片）</li>
</ol>
<h2 id="你有用过哪些前端性能优化的方法"><a href="#你有用过哪些前端性能优化的方法" class="headerlink" title="你有用过哪些前端性能优化的方法"></a>你有用过哪些前端性能优化的方法</h2><ol>
<li>请求带宽：压缩文件，开启GZIP<br>当需要设置的样式很多时设置className而不是直接操作style。</li>
<li>图片预加载，将样式表放在顶部，将脚本放在底部，加上时间戳。</li>
<li>减少http请求次数：CSS Sprites JS、CSS源码压缩、图片大小控制合适；网页Gzip，CDN托管，data缓存 ，图片服务器。</li>
<li>避免在页面的主体布局中使用table，table要等其中的内容完全下载之后才会显示出来，显示比div+css布局慢。</li>
<li>缓存利用：缓存Ajax，使用CDN，使用外部js和css文件以便缓存，添加Expires头，服务端配置Etag，减少DNS查找等 </li>
<li>前端模板 JS+数据，减少由于HTML标签导致的带宽浪费，前端用变量保存AJAX请求结果，每次操作本地变量，不用请求，减少请求次数</li>
</ol>
<h2 id="普通的网站统一优化思路"><a href="#普通的网站统一优化思路" class="headerlink" title="普通的网站统一优化思路"></a>普通的网站统一优化思路</h2><blockquote>
<p>尽量向前端优化、减少数据库操作、减少磁盘IO。向前端优化指的是，在不影响功能和体验的情况下，能在浏览器执行的不要在服务端执行，能在缓存服务器上直接返回的不要到应用服务器，程序能直接取得的结果不要到外部取得，本机内能取得的数据不要到远程取，内存能取到的不要到磁盘取，缓存中有的不要去数据库查询。减少数据库操作指减少更新次数、缓存结果减少查询次数、将数据库执行的操作尽可能的让你的程序完成（例如join查询），减少磁盘IO指尽量不使用文件系统作为缓存、减少读写文件次数等。程序优化永远要优化慢的部分，换语言是无法“优化”的。</p>
</blockquote>
<hr>
<h1 id="兼容问题"><a href="#兼容问题" class="headerlink" title="兼容问题"></a>兼容问题</h1><h2 id="IE6下的圆角，背景闪烁"><a href="#IE6下的圆角，背景闪烁" class="headerlink" title="IE6下的圆角，背景闪烁"></a>IE6下的圆角，背景闪烁</h2><h3 id="IE6下的圆角"><a href="#IE6下的圆角" class="headerlink" title="IE6下的圆角"></a>IE6下的圆角</h3><p>IE6不支持CSS3的圆角属性，性价比最高的解决方法就是用图片圆角来替代，或者放弃IE6的圆角。</p>
<h3 id="IE6背景闪烁"><a href="#IE6背景闪烁" class="headerlink" title="IE6背景闪烁"></a>IE6背景闪烁</h3><p>如果你给链接、按钮用CSS sprites作为背景，你可能会发现在IE6下会有背景图闪烁的现象。造成这个的原因是由于IE6没有将背景图缓存，每次触发hover的时候都会重新加载，可以用JavaScript设置IE6缓存这些图片：<br>复制代码代码如下:<br>document.execCommand(“BackgroundImageCache”,false,true);</p>
<h2 id="横向列表宽度，列表阶梯，垂直列表间隙bug"><a href="#横向列表宽度，列表阶梯，垂直列表间隙bug" class="headerlink" title="横向列表宽度，列表阶梯，垂直列表间隙bug"></a>横向列表宽度，列表阶梯，垂直列表间隙bug</h2><h3 id="横向列表宽度bug"><a href="#横向列表宽度bug" class="headerlink" title="横向列表宽度bug"></a>横向列表宽度bug</h3><p>如果你使用float:left;把&lt;li&gt;横向摆列，并且&lt;li&gt;内包含的&lt;a&gt;（或其他）触发了 hasLayout，在IE6下就会有错误的表现。解决方法很简单，只需要给&lt;a&gt;定义同样的float:left;即可。</p>
<h3 id="列表阶梯bug"><a href="#列表阶梯bug" class="headerlink" title="列表阶梯bug"></a>列表阶梯bug</h3><p>列表阶梯bug通常会在给&lt;li&gt;的子元素&lt;a&gt;使用float:left;时触发，我们本意是要做一个横向的列表(通常 是导航栏)，但IE却可能呈现出垂直的或者阶梯状。<br>解决办法就是给&lt;li&gt;定义float:left;而非子元素&lt;a&gt;，或者 给&lt;li&gt;定义display:inline;也可以解决。</p>
<h3 id="垂直列表间隙bug"><a href="#垂直列表间隙bug" class="headerlink" title="垂直列表间隙bug"></a>垂直列表间隙bug</h3><p>当我们使用&lt;li&gt; 包含一个块级子元素时，IE6(IE7也有可能)会错误地给每条列表元素（&lt;li&gt;）之间添加空隙。<br>解决方法：把&lt;a&gt;flaot并且清除float来解决这个问题；另外一个办法就是触发&lt;a&gt;的hasLayout（如定 义高宽、使用zoom:1;）；也可以给&lt;li&gt; 定义display:inline;来解决此问题；另外还有一个极有趣的方法，给包含的文本末尾添加一个空格。</p>
<h2 id="最小-大高度，最小-大宽度，100-高度"><a href="#最小-大高度，最小-大宽度，100-高度" class="headerlink" title="最小/大高度，最小/大宽度，100%高度"></a>最小/大高度，最小/大宽度，100%高度</h2><h3 id="最小高度（标签最低高度设置min-height不兼容）"><a href="#最小高度（标签最低高度设置min-height不兼容）" class="headerlink" title="最小高度（标签最低高度设置min-height不兼容）"></a>最小高度（标签最低高度设置min-height不兼容）</h3><ol>
<li>因为min-height本身就是一个不兼容的CSS属性，所以设置min-height时不能很好的被各个浏览器兼容</li>
<li>在B/S系统前端开时，有很多情况下我们又这种需求。当内容小于一个值（如300px）时。容器的高度为300px；当内容高度大于这个值时，容器高度被撑高，而不是出现滚动条。这时候我们就会面临这个兼容性问题。</li>
<li>解决方案：如果我们要设置一个标签的最小高度200px，需要进行的设置为：{min-height:200px; height:auto !important; height:200px; overflow:visible;}</li>
</ol>
<h3 id="设置较小高度标签（一般小于10px），在IE6，IE7，遨游中高度超出自己设置高度"><a href="#设置较小高度标签（一般小于10px），在IE6，IE7，遨游中高度超出自己设置高度" class="headerlink" title="设置较小高度标签（一般小于10px），在IE6，IE7，遨游中高度超出自己设置高度"></a>设置较小高度标签（一般小于10px），在IE6，IE7，遨游中高度超出自己设置高度</h3><ol>
<li>IE6、7和遨游里这个标签的高度不受控制，超出自己设置的高度。</li>
<li>这种情况一般出现在我们设置小圆角背景的标签里。出现这个问题的原因是IE8之前的浏览器都会给标签一个最小默认的行高的高度。即使你的标签是空的，这个标签的高度还是会达到默认的行高。</li>
<li>解决方案：给超出高度的标签设置overflow:hidden;或者设置行高line-height 小于你设置的高度。</li>
</ol>
<h3 id="最大高度"><a href="#最大高度" class="headerlink" title="最大高度"></a>最大高度</h3><p>复制代码代码如下:</p>
<pre><code>//直接使用ID来改变元素的最大高度
var container = document.getElementById(&apos;container&apos;);
container.style.height = (container.scrollHeight &gt; 199) ? &quot;200px&quot; : &quot;auto&quot;;
//写成函数来运行
function setMaxHeight(elementId, height){
var container = document.getElementById(elementId);
container.style.height = (container.scrollHeight &gt; (height - 1)) ? height + &quot;px&quot; : &quot;auto&quot;;
}
//函数示例
setMaxHeight(&apos;container1&apos;, 200);
setMaxHeight(&apos;container2&apos;, 500);
</code></pre><h3 id="最小宽度"><a href="#最小宽度" class="headerlink" title="最小宽度"></a>最小宽度</h3><p>同max-height和max-width一样，IE6也不支持min-width。<br>复制代码代码如下:</p>
<pre><code>//直接使用ID来改变元素的最小宽度
var container = document.getElementById(&apos;container&apos;);
container.style.width = (container.clientWidth &lt; width) ? &quot;500px&quot; : &quot;auto&quot;;
//写成函数来运行
function setMinWidth(elementId, width){
var container = document.getElementById(elementId);
container.style.width = (container.clientWidth &lt; width) ? width + &quot;px&quot; : &quot;auto&quot;;
}
//函数示例
setMinWidth(&apos;container1&apos;, 200);
setMinWidth(&apos;container2&apos;, 500);
</code></pre><h3 id="最大宽度"><a href="#最大宽度" class="headerlink" title="最大宽度"></a>最大宽度</h3><p>复制代码代码如下:</p>
<pre><code>//直接使用ID来改变元素的最大宽度
var container = document.getElementById(elementId);
container.style.width = (container.clientWidth &gt; (width - 1)) ? width + &quot;px&quot; : &quot;auto&quot;;
//写成函数来运行
function setMaxWidth(elementId, width){
var container = document.getElementById(elementId);
container.style.width = (container.clientWidth &gt; (width - 1)) ? width + &quot;px&quot; : &quot;auto&quot;;
}
//函数示例
setMaxWidth(&apos;container1&apos;, 200);
setMaxWidth(&apos;container2&apos;, 500);
</code></pre><h3 id="100-高度"><a href="#100-高度" class="headerlink" title="100% 高度"></a>100% 高度</h3><p>在IE6下，如果要给元素定义100%高度，必须要明确定义它的父级元素的高度，如果你需要给元素定义满屏的高度，就得先给html和body定义height:100%;。</p>
<h2 id="a标签问题"><a href="#a标签问题" class="headerlink" title="a标签问题"></a>a标签问题</h2><h3 id="a标签内的内容样式加上样式"><a href="#a标签内的内容样式加上样式" class="headerlink" title="a标签内的内容样式加上样式"></a>a标签内的内容样式加上样式</h3><p>若给a标签内的内容样式加上样式，需要设置display:block;（在IE中如果设置宽高会自动变成块，在FF中则不会），但如果设置了float属性，就不需要设置display:block。</p>
<h3 id="超链接访问过后-hover-样式就不出现"><a href="#超链接访问过后-hover-样式就不出现" class="headerlink" title="超链接访问过后 hover 样式就不出现"></a>超链接访问过后 hover 样式就不出现</h3><p>被点击访问过的超链接样式不在具有 hover 和 active 了<br>解决方法：改变CSS属性的排列顺序 L-V-H-A :  a:link {} a:visited {} a:hover {} a:active {}</p>
<h2 id="图片img问题"><a href="#图片img问题" class="headerlink" title="图片img问题"></a>图片img问题</h2><h3 id="图片默认有间距"><a href="#图片默认有间距" class="headerlink" title="图片默认有间距"></a>图片默认有间距</h3><ol>
<li>几个img标签放在一起的时候，有些浏览器会有默认的间距，加了问题一中提到的通配符也不起作用。</li>
<li>因为img标签是行内属性标签，所以只要不超出容器宽度，img标签都会排在一行里，但是部分浏览器的img标签之间会有个间距。去掉这个间距使用float是正道。</li>
<li>解决方案：使用float属性为img布局</li>
</ol>
<h3 id="img于块元素中，底边多出空白"><a href="#img于块元素中，底边多出空白" class="headerlink" title="img于块元素中，底边多出空白"></a>img于块元素中，底边多出空白</h3><p>解决方法：父级设置overflow: hidden; 或 img { display: block; } 或 _margin: -5px;</p>
<h3 id="a-有href属性-标签嵌套下的img标签，在IE下会带有边框"><a href="#a-有href属性-标签嵌套下的img标签，在IE下会带有边框" class="headerlink" title="a(有href属性)标签嵌套下的img标签，在IE下会带有边框"></a>a(有href属性)标签嵌套下的img标签，在IE下会带有边框</h3><p>解决办法：加上a img{border:none;}样式。</p>
<h2 id="margin问题"><a href="#margin问题" class="headerlink" title="margin问题"></a>margin问题</h2><h3 id="上下margin重合问题"><a href="#上下margin重合问题" class="headerlink" title="上下margin重合问题"></a>上下margin重合问题</h3><p>ie和ff都存在，相邻的两个div的margin-left和margin-right不会重合，但是margin-top和margin-bottom却会发生重合。<br>解决方法：养成良好的代码编写习惯，同时采用margin-top或者同时采用margin-bottom。</p>
<h3 id="不同浏览器的标签默认的外补丁和内补丁不同"><a href="#不同浏览器的标签默认的外补丁和内补丁不同" class="headerlink" title="不同浏览器的标签默认的外补丁和内补丁不同"></a>不同浏览器的标签默认的外补丁和内补丁不同</h3><ol>
<li>随便写几个标签，不加样式控制的情况下，各自的margin 和padding差异较大。</li>
<li>解决方案：CSS里   *{margin:0;padding:0;}</li>
</ol>
<h3 id="父子标签间用margin的问题"><a href="#父子标签间用margin的问题" class="headerlink" title="父子标签间用margin的问题"></a>父子标签间用margin的问题</h3><ol>
<li>表现在有时除IE(6/7)外的浏览器子标签margin转移到了父标签上，IE6&amp;7下没有转移<br>测试代码：<pre><code>&lt;body&gt;
    &lt;style type=&quot;text/css&quot;&gt;
        .box1{
            height:150px;
            background:red;
        }
        .box1_1{
            height:50px;
            margin-top:50px;
            background:yellow;
        }
    &lt;/style&gt;
    &lt;div class=&quot;box1&quot;&gt;
        &lt;div class=&quot;box1_1&quot;&gt;123321&lt;/div&gt;
    &lt;/div&gt;
&lt;/body&gt;
</code></pre></li>
</ol>
<p>chrome &amp; FireFox &amp; IE8 &amp; IE9下的效果为：<br><img src="http://upload-images.jianshu.io/upload_images/5285574-d5744669e059a62a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="cmd-markdown-logo"></p>
<p>IE6 &amp; IE7 下的效果：<br><img src="http://upload-images.jianshu.io/upload_images/5285574-c9da2e7cc5794dc4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="cmd-markdown-logo"></p>
<p>解决办法：父子标签间的间隔建议用padding，兄弟标签间用margin。</p>
<h3 id="左浮元素margin-bottom失效"><a href="#左浮元素margin-bottom失效" class="headerlink" title="左浮元素margin-bottom失效"></a>左浮元素margin-bottom失效</h3><p>解决方法：显示设置高度 or 父标签设置_padding-bottom代替子标签的margin-bottom or 再放个标签让父标签浮动，子标签<br>margin-bottom，即(margin-bottom与float不同时作用于一个标签)</p>
<h2 id="浮动问题"><a href="#浮动问题" class="headerlink" title="浮动问题"></a>浮动问题</h2><p>假设两块div，第一块浮动而第二块没有浮动，IE6下第二块就会跑到第一块边上，并且二者之间还留有间距，但标准浏览器中是第二块重合于第一块。</p>
<p>测试代码：</p>
<pre><code>&lt;style type=&quot;text/css&quot;&gt;
    div{
        width:100px;
        height:100px;
        border:1px solid #CCC;
    }
    .one{
        float:left;
        height:50px;
        background-color: red;
    }
    .two{
        background-color: yellow;
    }                
&lt;/style&gt;
&lt;div class=&quot;one&quot;&gt;123&lt;/div&gt;
&lt;div class=&quot;two&quot;&gt;321&lt;/div&gt;
</code></pre><p>chrome &amp; FireFox &amp; IE8 &amp; IE9下的效果为：<br><img src="http://upload-images.jianshu.io/upload_images/5285574-4e86b534bc0f46b2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="cmd-markdown-logo"></p>
<p>IE6 &amp; IE7 下的效果：<br><img src="http://upload-images.jianshu.io/upload_images/5285574-7dbccd3666e5502a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="cmd-markdown-logo"><br>解决办法：改变设计思路，如果真有两个div重合的需求，可以用下面的代码实现</p>
<pre><code>&lt;style type=&quot;text/css&quot;&gt;
       div{
           width:100px;
           height:100px;
           border:1px solid #CCC;
       }
       .parent{
           position:relative;
       }
       .one{
              background-color: red;
           position:absolute;
           left:0;
           top:0;
       }
       .two{
           background-color: yellow;
       }
   &lt;/style&gt;
   &lt;div class=&quot;parent&quot;&gt;
       &lt;div class=&quot;one&quot;&gt;123&lt;/div&gt;
       &lt;div class=&quot;one&quot;&gt;321&lt;/div&gt;
   &lt;/div&gt;
</code></pre><h2 id="line-height"><a href="#line-height" class="headerlink" title="line-height"></a>line-height</h2><p>以下三种其实是同一种bug，其实也不算是个bug，举个例子：父标签高度20，子标签11，垂直居中，20-11=9，9要分给文字的上面与下面，怎么分？IE6就会与其它的不同，所以，尽量避免。</p>
<ol>
<li>字体大小为奇数之边框高度少1px<br>解决方法：字体大小设置为偶数或line-height为偶数</li>
<li>line-height，文本垂直居中差1px<br>解决方法：padding-top代替line-height居中，或line-height加1或减1</li>
<li>与父标签的宽度的奇偶不同的居中造成1px的偏离<br>解决方法：如果父标签是奇数宽度，则子标签也用奇数宽度;如果是父标签偶数宽度，则子标签也用偶数宽度</li>
</ol>
<h2 id="3像素间距bug"><a href="#3像素间距bug" class="headerlink" title="3像素间距bug"></a>3像素间距bug</h2><p>在IE6中，当文本(或无浮动元素)跟在一个浮动的元素之后，文本和这个浮动元素之间会多出3像素的间隔。<br>解决方法：给浮动层添加 display:inline 和 -3px 负值margin,给中间的内容层定义 margin-right 以纠正-3px</p>
<h2 id="ul，ol-dl默认情况"><a href="#ul，ol-dl默认情况" class="headerlink" title="ul，ol,dl默认情况"></a>ul，ol,dl默认情况</h2><p>ul，ol在FF默认情况下，有list-style-type样式和padding值，dl在IE和FF默认情况下，有padding值，所以应该事先声明ul,li,ol,dl,dd,dd{margin:0;padding:0}。</p>
<h2 id="IE下z-index的bug"><a href="#IE下z-index的bug" class="headerlink" title="IE下z-index的bug"></a>IE下z-index的bug</h2><p>在IE浏览器中，定位元素的z-index层级是相对于各自的父级容器，所以会导致z-index出现错误的表现。解决方法是给其父级元素定义z-index，有些情况下还需要定义position:relative。</p>
<h2 id="border默认CSS样式"><a href="#border默认CSS样式" class="headerlink" title="border默认CSS样式"></a>border默认CSS样式</h2><ol>
<li>ie6的默认CSS样式，涉及到border的有border-style:inset;border-width:2px;浏览器根据自己的内核解析规则，先解析自身的默认CSS，再解析开发者书写的CSS，达到渲染标签的目的。IE6对INPUT的渲染存在bug，border:none;不被解析，当有border-width或border-color设置的时候才会令IE6去解析border-style:none;。</li>
<li>解决方案：border:0或border:0 none;或border:none:border-color:transparent;，推荐用第三种方案。</li>
</ol>
<h2 id="css布局中的居中问题"><a href="#css布局中的居中问题" class="headerlink" title="css布局中的居中问题"></a>css布局中的居中问题</h2><p>在父级元素定义text-align: center;这个的意思就是在父级元素内的内容居中；对于IE这样设定就已经可以了。但在mozilla中不能居中。解决办法就是在子元素定义时候设定时再加上“margin-right: auto;margin-left: auto; ”需要说明的是，如果你想用这个方法使整个页面要居中，建议不要套在一个DIV里，你可以依次拆出多个div，只要在每个拆出的div里定义margin-right: auto;margin-left: auto; 就可以了。</p>
<h2 id="IE6的躲猫猫bug（peek-a-boo）bug"><a href="#IE6的躲猫猫bug（peek-a-boo）bug" class="headerlink" title="IE6的躲猫猫bug（peek-a-boo）bug"></a>IE6的躲猫猫bug（peek-a-boo）bug</h2><p>之所以起这个名称是因为在某些条件下文本看起来消失了，只有在重新装载页面时才再度出现。出现这个bug的条件是：一个浮动元素后而跟着一些非浮动元素，然后是一个清理元素，所有这些元素都包含在一个设置了背景颜色或图像的你元素中。如果清理元素扩展了浮动元素，那么中间的非浮动元素看起来消失了，隐到了父元素的背景颜色或图像后面，只有在刷新页面时才重新出现。<br>解决方法很简单：</p>
<ol>
<li>在（那个未浮动的）内容之后添加一个&lt;span style=”clear: both;”&gt; &lt;/span&gt;</li>
<li>触发包含了这些链接的容器的hasLayout，一个简单的方法就是给其定义height:1%;</li>
</ol>
<h2 id="渐进识别的方式，从总体中逐渐排除局部"><a href="#渐进识别的方式，从总体中逐渐排除局部" class="headerlink" title="渐进识别的方式，从总体中逐渐排除局部"></a>渐进识别的方式，从总体中逐渐排除局部</h2><p>首先，巧妙的使用“\9”这一标记，将IE游览器从所有情况中分离出来。<br>接着，再次使用 “+” 将IE8和IE7、IE6分离开来，这样IE8已经独立识别。</p>
<pre><code>.bb{
    background-color:#f1ee18; /*所有识别*/
    .background-color:#00deff\9; /*IE6、7、8识别*/
    +background-color:#a200ff; /*IE6、7识别*/
    _background-color:#1e0bd1; /*IE6识别*/ 
} 
</code></pre><h2 id="行内属性标签，设置display-block后采用float布局，又有横行的margin的情况，IE6间距bug"><a href="#行内属性标签，设置display-block后采用float布局，又有横行的margin的情况，IE6间距bug" class="headerlink" title="行内属性标签，设置display:block后采用float布局，又有横行的margin的情况，IE6间距bug"></a>行内属性标签，设置display:block后采用float布局，又有横行的margin的情况，IE6间距bug</h2><ol>
<li>IE6里的间距比超过设置的间距</li>
<li>行内属性标签，为了设置宽高，我们需要设置display:block;(除了input标签比较特殊)。在用float布局并有横向的margin后，在IE6下，他就具有了块属性float后的横向margin的bug。不过因为它本身就是行内属性标签，所以我们再加上display:inline的话，它的高宽就不可设了。这时候我们还需要在display:inline后面加入display:talbe。</li>
<li>解决方案：在display:block;后面加入display:inline;display:table;</li>
</ol>
<h2 id="父子关系的标签，子标签浮动导致父标签不再包裹子标签"><a href="#父子关系的标签，子标签浮动导致父标签不再包裹子标签" class="headerlink" title="父子关系的标签，子标签浮动导致父标签不再包裹子标签"></a>父子关系的标签，子标签浮动导致父标签不再包裹子标签</h2><pre><code>&lt;style type=&quot;text/css&quot;&gt;
       .parent{
           background:red;
           border:5px solid #888;
       }
       .one{
           float:left;
           width:100px;
           height:100px;
           background:yellow;
       }
   &lt;/style&gt;
   &lt;div class=&quot;parent&quot;&gt;
       &lt;div class=&quot;one&quot;&gt;123321&lt;/div&gt;
   &lt;/div&gt;
</code></pre><p>在IE、Chrome、Firefox下都是下面的效果：<br><img src="http://upload-images.jianshu.io/upload_images/5285574-e6087060761e221d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="cmd-markdown-logo"></p>
<p>可以看到父元素并没有包裹子元素，这是因为float造成的，解决方案是清除浮动就行了</p>
<pre><code>&lt;style type=&quot;text/css&quot;&gt;
        .parent{
            background:red;
            border:5px solid #888;
            zoom:1;/*--for IE--*/
        }
        .parent:after{ /*--for other broswer--*/
            content:&quot;.&quot;;
            display:block;
            line-height:0;
            clear:both;
            visibility:hidden;
        }
        .one{
            float:left;
            width:100px;
            height:100px;
            background:yellow;
        }
    &lt;/style&gt;
    &lt;div class=&quot;parent&quot;&gt;
        &lt;div class=&quot;one&quot;&gt;123321&lt;/div&gt;
    &lt;/div&gt;
</code></pre><p>解决方法后效果：<br><img src="http://upload-images.jianshu.io/upload_images/5285574-a02f4ea17feee9b2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="cmd-markdown-logo"></p>
<h2 id="其他注意事项"><a href="#其他注意事项" class="headerlink" title="其他注意事项"></a>其他注意事项</h2><ul>
<li>a标签对里不能嵌套a标签对</li>
<li>li之间会有间距 解决方法：float: left;</li>
<li>关于手形光标. cursor: pointer. 而hand 只适用于 IE.</li>
<li>png24位的图片在iE6浏览器上出现背景，解决方案是做成PNG8.</li>
<li>IE用filter:Alpha(Opacity=60),其他主流浏览器用 opacity:0.6;</li>
<li>在IE6、7下输入类型的表单控件上下各有1px的间隙。解决方案：加浮动。</li>
<li>在IE6、7下输入类型的表单控件加border:none无效。解决方案：重置背景。</li>
<li>内部盒模型超出父级时，父级被撑大 解决方法：父标签使用overflow:hidden</li>
<li>margin传递：解决方案：a.父级或自己浮动;b.给元素加 overflow:hidden;zoom:1;</li>
<li>position下的left，bottom错位 解决方法：为父级(relative层)设置宽高或添加*zoom:1</li>
<li>子级中有设置position，则父级overflow失效 解决方法：为父级设置position:relative</li>
<li>块元素中有文字及右浮动的行元素，行元素换行 解决方法：将行元素置于块元素内的文字前</li>
<li>作为外部 wrapper 的 div 不要定死高度, 最好还加上 overflow: hidden.以达到高度自适应</li>
<li>在IE6、7下输入类型的表单控件输入文字的时候，背景图片会跟着移动。解决方案：把背景加给父级。</li>
<li>在IE6下父级有边框的时候，子元素的margin值消失。解决方案：触发父级haslayout(haslayout触发：zoom:1)</li>
<li>在IE6、7下li本身没浮动，但是li的内容有浮动，li下边就会产生一个间隙。解决方案：给li加浮动;给li加vertical-align:top ;</li>
<li>IE6下文字溢出BUG： 产生原因：子元素和父级宽度相差小于3px,或两个浮动元素之间有注释或内嵌元素。解决方案：用DIV把注释或内嵌元素包起来。</li>
<li>Chrome中文界面下默认会将小于12px的文本强制按照12px显示。解决方法：可通过加入 CSS 属性 -webkit-text-size-adjust: none;</li>
<li>当浮动元素和绝对定位元素是并列关系的时候，在IE6下绝对定位元素会失效。解决方案：给定位元素外面包DIV。</li>
<li>样式优先级：默认&lt;类型&lt;class&lt;id&lt;style(行间)&lt;important在IE6后面再加一条同样的样式，会破会掉important的作用，会按照默认的优先级顺序来走.</li>
</ul>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        
  <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
    <div>博主会持续更新，您的支持将鼓励我继续创作！</div>
    <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
      <span>赏</span>
    </button>
    <div id="QR" style="display: none;">
      
        <div id="wechat" style="display: inline-block">
          <img id="wechat_qr" src="/uploads/weixinprice.png" alt="Candice Yu WeChat Pay"/>
          <p>微信打赏</p>
        </div>
      
      
        <div id="alipay" style="display: inline-block">
          <img id="alipay_qr" src="/uploads/zhifubaoprice.jpg" alt="Candice Yu Alipay"/>
          <p>支付宝打赏</p>
        </div>
      
    </div>
  </div>


      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/IE6兼容/" rel="tag">#IE6兼容</a>
          
            <a href="/tags/性能优化/" rel="tag">#性能优化</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/11/01/前端知识总结（VUE，reactJS，ES6）/" rel="next" title="前端知识总结（VUE，reactJS，ES6）">
                <i class="fa fa-chevron-left"></i> 前端知识总结（VUE，reactJS，ES6）
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/11/01/前端知识总结（移动端，浏览器渲染，CSS图层）/" rel="prev" title="前端知识总结（移动端，浏览器渲染，CSS图层）">
                前端知识总结（移动端，浏览器渲染，CSS图层） <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        
<script>
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
</script>

      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2017/11/01/前端知识总结（优化，兼容）/"
           data-title="前端知识总结（性能优化，兼容）" data-url="http://candiceyu.com/2017/11/01/前端知识总结（优化，兼容）/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.jpg"
               alt="Candice Yu" />
          <p class="site-author-name" itemprop="name">Candice Yu</p>
          <p class="site-description motion-element" itemprop="description">I don’t want to earn my living; i want to live.</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">21</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">53</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/dreamgirla" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.jianshu.com/users/5329295f3aea/timeline" target="_blank" title="简书">
                  
                    <i class="fa fa-fw fa-jianshu"></i>
                  
                  简书
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.zhihu.com/#signin" target="_blank" title="知乎">
                  
                    <i class="fa fa-fw fa-zhihu"></i>
                  
                  知乎
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              友情链接
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://carryguan.me/" title="Carry" target="_blank">Carry</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://yuanguangxin.me/" title="yuanguangxin" target="_blank">yuanguangxin</a>
                </li>
              
            </ul>
          </div>
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#性能优化"><span class="nav-text">性能优化</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#页面级优化"><span class="nav-text">页面级优化</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#减少HTTP请求数-最重要最有效"><span class="nav-text">减少HTTP请求数  (最重要最有效)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#减少HTTP请求数的途径"><span class="nav-text">减少HTTP请求数的途径</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#将外部脚本放在底部"><span class="nav-text">将外部脚本放在底部</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#并发执行inline脚本"><span class="nav-text">并发执行inline脚本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#懒加载"><span class="nav-text">懒加载</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Js-与-css-懒加载"><span class="nav-text">Js 与 css 懒加载</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#将-CSS放在-HEAD中"><span class="nav-text">将 CSS放在 HEAD中</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#减少不必要的HTTP跳转"><span class="nav-text">减少不必要的HTTP跳转</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#避免重复的资源请求"><span class="nav-text">避免重复的资源请求</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#代码级优化"><span class="nav-text">代码级优化</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#DOM"><span class="nav-text">DOM</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#慎用with"><span class="nav-text">慎用with</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#避免使用eval和Function"><span class="nav-text">避免使用eval和Function</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#减少作用域链查找"><span class="nav-text">减少作用域链查找</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数据访问"><span class="nav-text">数据访问</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字符串拼接"><span class="nav-text">字符串拼接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#总的来说代码层面的优化"><span class="nav-text">总的来说代码层面的优化</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#重绘重排"><span class="nav-text">重绘重排</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#对网站的文件和资源进行优化"><span class="nav-text">对网站的文件和资源进行优化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#管理所有CSS文件、JS与图片"><span class="nav-text">管理所有CSS文件、JS与图片</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#优化图片的加载"><span class="nav-text">优化图片的加载</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#减少页面加载时间的方法"><span class="nav-text">减少页面加载时间的方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#你有用过哪些前端性能优化的方法"><span class="nav-text">你有用过哪些前端性能优化的方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#普通的网站统一优化思路"><span class="nav-text">普通的网站统一优化思路</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#兼容问题"><span class="nav-text">兼容问题</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#IE6下的圆角，背景闪烁"><span class="nav-text">IE6下的圆角，背景闪烁</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#IE6下的圆角"><span class="nav-text">IE6下的圆角</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IE6背景闪烁"><span class="nav-text">IE6背景闪烁</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#横向列表宽度，列表阶梯，垂直列表间隙bug"><span class="nav-text">横向列表宽度，列表阶梯，垂直列表间隙bug</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#横向列表宽度bug"><span class="nav-text">横向列表宽度bug</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#列表阶梯bug"><span class="nav-text">列表阶梯bug</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#垂直列表间隙bug"><span class="nav-text">垂直列表间隙bug</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#最小-大高度，最小-大宽度，100-高度"><span class="nav-text">最小/大高度，最小/大宽度，100%高度</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#最小高度（标签最低高度设置min-height不兼容）"><span class="nav-text">最小高度（标签最低高度设置min-height不兼容）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#设置较小高度标签（一般小于10px），在IE6，IE7，遨游中高度超出自己设置高度"><span class="nav-text">设置较小高度标签（一般小于10px），在IE6，IE7，遨游中高度超出自己设置高度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#最大高度"><span class="nav-text">最大高度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#最小宽度"><span class="nav-text">最小宽度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#最大宽度"><span class="nav-text">最大宽度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#100-高度"><span class="nav-text">100% 高度</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#a标签问题"><span class="nav-text">a标签问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#a标签内的内容样式加上样式"><span class="nav-text">a标签内的内容样式加上样式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#超链接访问过后-hover-样式就不出现"><span class="nav-text">超链接访问过后 hover 样式就不出现</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#图片img问题"><span class="nav-text">图片img问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#图片默认有间距"><span class="nav-text">图片默认有间距</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#img于块元素中，底边多出空白"><span class="nav-text">img于块元素中，底边多出空白</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#a-有href属性-标签嵌套下的img标签，在IE下会带有边框"><span class="nav-text">a(有href属性)标签嵌套下的img标签，在IE下会带有边框</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#margin问题"><span class="nav-text">margin问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#上下margin重合问题"><span class="nav-text">上下margin重合问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#不同浏览器的标签默认的外补丁和内补丁不同"><span class="nav-text">不同浏览器的标签默认的外补丁和内补丁不同</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#父子标签间用margin的问题"><span class="nav-text">父子标签间用margin的问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#左浮元素margin-bottom失效"><span class="nav-text">左浮元素margin-bottom失效</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#浮动问题"><span class="nav-text">浮动问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#line-height"><span class="nav-text">line-height</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3像素间距bug"><span class="nav-text">3像素间距bug</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ul，ol-dl默认情况"><span class="nav-text">ul，ol,dl默认情况</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#IE下z-index的bug"><span class="nav-text">IE下z-index的bug</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#border默认CSS样式"><span class="nav-text">border默认CSS样式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#css布局中的居中问题"><span class="nav-text">css布局中的居中问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#IE6的躲猫猫bug（peek-a-boo）bug"><span class="nav-text">IE6的躲猫猫bug（peek-a-boo）bug</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#渐进识别的方式，从总体中逐渐排除局部"><span class="nav-text">渐进识别的方式，从总体中逐渐排除局部</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#行内属性标签，设置display-block后采用float布局，又有横行的margin的情况，IE6间距bug"><span class="nav-text">行内属性标签，设置display:block后采用float布局，又有横行的margin的情况，IE6间距bug</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#父子关系的标签，子标签浮动导致父标签不再包裹子标签"><span class="nav-text">父子关系的标签，子标签浮动导致父标签不再包裹子标签</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#其他注意事项"><span class="nav-text">其他注意事项</span></a></li></ol></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Candice Yu</span>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"candiceyu"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  

  

  

</body>
</html>
